;---------------boot and kernel---------------
loaderBaseAddress equ 0x500
loaderStartSector equ 0x2

;---------------GDT描述符---------------------

;内存粒度
DESC_G_4K equ 1_00000000000000000000000b 
DESC_G_1B equ 0_00000000000000000000000b

;32位环境(代码段EIP与栈段ESP)
DESC_D_32 equ 1_0000000000000000000000b
DESC_B_32 equ 1_0000000000000000000000b

;L与AVL字段置0
DESC_L_32 equ 0_000000000000000000000b
DESC_AVL_32 equ 0_00000000000000000000b

;段界限的高4位
DESC_LIMIT_CODA2 equ 1111_0000000000000000b
DESC_LIMIT_DATA2 equ 1111_0000000000000000b
;DESC_LIMIT_VIDEO2 equ 0000_0000000000000000b

DESC_P equ 1_000000000000000b

DESC_DPL_0 equ 00_0000000000000b
DESC_DPL_1 equ 01_0000000000000b
DESC_DPL_2 equ 10_0000000000000b
DESC_DPL_3 equ 11_0000000000000b

DESC_S_CODE equ 1_000000000000b
DESC_S_DATA equ DESC_S_CODE
DESC_S_SYS equ 0_000000000000b

DESC_X_CODE equ 1000_00000000b ;代码段可执行，非一致性
DESC_X_DATA equ 0010_00000000b ;数据段不可执行，向上扩展，可写

;----------------成型的段描述符高4位---------------------------
DESC_CODE_HIGHT_4B equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L_32 + DESC_AVL_32 + DESC_LIMIT_CODA2 + DESC_P + DESC_DPL_0 + DESC_S_CODE + DESC_X_CODE + 0X00
DESC_DATA_HIGHT_4B equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L_32 + DESC_AVL_32 + DESC_LIMIT_DATA2 + DESC_P + DESC_DPL_0 + DESC_S_DATA + DESC_X_DATA + 0X00
;DESC_VIDEO_HIGHT_4B equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L_32 + DESC_AVL_32 + DESC_LIMIT_VIDEO2 + DESC_P + DESC_DPL_0 + DESC_S_DATA + DESC_X_DATA + 0X00

;---------------选择子属性-----------------------
RPL0 equ 00b
RPL1 equ 01b
RPL2 equ 10b
RPL3 equ 11b
TI_GDT equ 000b
TI_LDT equ 100b


